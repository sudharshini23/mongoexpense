<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
</head>
<body>
    <form id ="forgotpswd" action="#" class="form-inline" method="POST" onsubmit="userForgotPassword(event)">
        <div>
            <label for="email" class="form-label">Enter your Email ID</label>
            <input type="email" id="email" class="form-control" required>
        </div>
        <button class="btn btn-dark" type="submit">Send Email</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        const form = document.getElementById('forgotpswd');
        async function userForgotPassword(event) {
            event.preventDefault();

            console.log(event.target.name);
            // const form = new FormData(e.target);

            // const userDetails = {
            //     email: form.get("email"),
            // }
            // const email = event.target.email.value;
            const email = document.getElementById('email').value;
            console.log(email);
            const obj = {email}
            const response = await axios.post("http://localhost:5000/password/forgotpassword", obj)
            console.log(response.data)
                // if(response.status === 202){
                //     document.body.innerHTML += '<div style="color:red;">Mail Successfuly sent <div>'
                // } 
                // else {
                //     throw new Error('Something went wrong!!!')
                // }
            
            // catch(err) {
            //     console.log(JSON.stringify(err))
            //     document.body.innerHTML = document.body.innerHTML + `<div>${err.message}<div>`
            // })
            form.reset();
        }
    </script>
</body>
</html>